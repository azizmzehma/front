<div class="container">
  <h2>Ajouter un nouveau Projet</h2>
  <form #f="ngForm" (ngSubmit)="add(f)" novalidate>
    <div>
      <input type="file" #imageInput style="display: none;" (change)="onImageSelected($event)">
      <button id="imageInput" type="button" (click)="imageInput.click()">Add Image</button>
    </div>
    <div class="form-group">
      <label for="title">Titre</label>
      <input type="text" class="form-control" id="title" name="title" [(ngModel)]="project.title" required>
      <div *ngIf="f.controls['title'].errors && (f.controls['title'].dirty || f.controls['title'].touched)" class="text-danger">
        Le titre est requis.
      </div>
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea class="form-control" id="description" name="description" [(ngModel)]="project.description" required></textarea>
      <div *ngIf="f.controls['description'].errors && (f.controls['description'].dirty || f.controls['description'].touched)" class="text-danger">
        La description est requise.
      </div>
    </div>
    <div class="form-group">
      <label for="prototype">Prototype</label>
      <input type="text" class="form-control" id="prototype" name="prototype" [(ngModel)]="project.prototype" required>
      <div *ngIf="f.controls['prototype'].errors && (f.controls['prototype'].dirty || f.controls['prototype'].touched)" class="text-danger">
        Le prototype est requis.
      </div>
    </div>
    <div class="form-group">
      <label for="dateDebut">Date de début</label>
      <input type="date" class="form-control" id="dateDebut" name="dateDebut" [(ngModel)]="project.dateDebut" required>
      <div *ngIf="f.controls['dateDebut'].errors && (f.controls['dateDebut'].dirty || f.controls['dateDebut'].touched)" class="text-danger">
        La date de début est requise.
      </div>
    </div>
    <div class="form-group">
      <label for="dateFinPrevu">Date de fin prévue</label>
      <input type="date" class="form-control" id="dateFinPrevu" name="dateFinPrevu" [(ngModel)]="project.dateFinPrevu" required>
      <div *ngIf="f.controls['dateFinPrevu'].errors && (f.controls['dateFinPrevu'].dirty || f.controls['dateFinPrevu'].touched)" class="text-danger">
        La date de fin prévue est requise.
      </div>
    </div>
    <div class="form-group">
      <label for="etatProject">État du Projet</label>
      <select class="form-control" id="etatProject" name="etatProject" [(ngModel)]="project.etatProject" required>
        <option *ngFor="let state of etatValues" [value]="state">{{ state }}</option>
      </select>
      <div *ngIf="f.controls['etatProject'].errors && (f.controls['etatProject'].dirty || f.controls['etatProject'].touched)" class="text-danger">
        L'état du projet est requis.
      </div>
    </div>

    <button type="submit"  class="btn btn-primary" [disabled]="f.invalid">ajouter</button>
    <div *ngIf="f.invalid && (f.dirty || f.touched)" class="text-danger mt-2">
      Veuillez remplir tous les champs requis.
    </div>
  </form>
</div>
